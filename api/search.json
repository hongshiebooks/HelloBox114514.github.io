[{"id":"f73a8e23e6f6f669cf99c7dba8fa0722","title":"","content":"title: 代码搭建NewBing\ndate: 2023-08-17 12:18:42\ntags:\n\n\n大家好，我是红石Hong，欢迎来到我的个人博客\n接下来，我将用十分钟，教你搭建一个国内可用的NewBing\n无需魔法无需候补账号无需服务器，域名小白也能部署的网站！接下来，让我们开始吧\n注册HuggingFace账号我们需要前往HuggingFace官网https://huggingface.co/注册一个账号\n![屏幕截图 2023-08-17 134157](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 134157.png)\n输入你的邮件地址，并设置密码\n![屏幕截图 2023-08-17 134314](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 134314.png)\n这里只要输入UserName与FullName并勾选下方协议，点击Create Account\n你的帐号就注册成功了\n然后我们要前往验证我们的邮箱\n![屏幕截图 2023-08-17 135255](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 135255.png)\n点击头像，选择settings，进入到账户设置界面\n![屏幕截图 2023-08-17 135404](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 135404.png)\n选择Account\n![屏幕截图 2023-08-17 135920](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 135920.png)\n这里primary email会有一个验证按钮\n点击后会向注册邮箱中发送一封注册邮件，点击其中的链接就可以验证了\n开始搭建NewBing项目接下来我们开始正是搭建NewBing项目\n点击上方的Space\n选择Creat New Space\n![屏幕截图 2023-08-17 140241](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 140241.png)\nSpace Name是项目名称，输入BingAI即可\n许可证填写\nmit\n\n工具包选择Docker\n![屏幕截图 2023-08-17 140537](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 140537.png)\n为这样即可\n点击下方的creat space，空间就生成了\n![屏幕截图 2023-08-17 140639](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 140639.png)\n接下来我们需要下滑\n![屏幕截图 2023-08-17 140727](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 140727.png)\n找到这个create并点击，就会来到这个界面\n![屏幕截图 2023-08-17 140855](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 140855.png)\n此时我们需要将源码复制进去\n# Build Stage\n# 使用 golang:alpine 作为构建阶段的基础镜像\nFROM golang:alpine AS builder\n\n# 添加 git，以便之后能从GitHub克隆项目\nRUN apk --no-cache add git\n\n# 从 GitHub 克隆 go-proxy-bingai 项目到 &#x2F;workspace&#x2F;app 目录下\nRUN git clone https:&#x2F;&#x2F;github.com&#x2F;Harry-zklcdc&#x2F;go-proxy-bingai.git &#x2F;workspace&#x2F;app\n\n# 设置工作目录为之前克隆的项目目录\nWORKDIR &#x2F;workspace&#x2F;app\n\n# 编译 go 项目。-ldflags&#x3D;&quot;-s -w&quot; 是为了减少编译后的二进制大小\nRUN go build -ldflags&#x3D;&quot;-s -w&quot; -tags netgo -trimpath -o go-proxy-bingai main.go\n\n# Runtime Stage\n# 使用轻量级的 alpine 镜像作为运行时的基础镜像\nFROM alpine\n\n# 设置工作目录\nWORKDIR &#x2F;workspace&#x2F;app\n\n# 从构建阶段复制编译后的二进制文件到运行时镜像中\nCOPY --from&#x3D;builder &#x2F;workspace&#x2F;app&#x2F;go-proxy-bingai .\n\n# 设置环境变量，此处为随机字符\nENV Go_Proxy_BingAI_USER_TOKEN_1&#x3D;&quot;kJs8hD92ncMzLaoQWYtX5rG6bE3fZ4iO&quot;\n\n# 暴露8080端口\nEXPOSE 8080\n\n# 容器启动时运行的命令\nCMD [&quot;&#x2F;workspace&#x2F;app&#x2F;go-proxy-bingai&quot;]\n\n复制完后点击下方的Commit New File To Main![屏幕截图 2023-08-17 141044](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141044.png)\n然后点击App\n![屏幕截图 2023-08-17 141112](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141112.png)\n如果控制台开始打印，则证明部署好了\n在正式访问之前，我们还要做一步\n![屏幕截图 2023-08-17 141313](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141313.png)\n点击Files\n![屏幕截图 2023-08-17 141357](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141357.png)\n选择README.md文件\n![屏幕截图 2023-08-17 141437](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141437.png)\n点击edit\n![屏幕截图 2023-08-17 141558](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141558.png)\n添加\napp_port: 8080\n\n然后点击Commit changes to main\n回到App，等待一会就可以了\n![屏幕截图 2023-08-17 141813](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141813.png)\n如果你想将站点复制给别人使用\n只需要点击!![屏幕截图 2023-08-17 141908](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141908.png)\n选择服务选择\n将本站地址复制即可\n![屏幕截图 2023-08-17 141950](W:\\boke\\boke\\source_posts\\代码搭建NewBing镜像站\\屏幕截图 2023-08-17 141950.png)\n至此我们的NewBing就部署完成了，我们可以在互联网的任何地方访问它\n（喂，不去我的B站主页看看吗？）\n","slug":"代码搭建NewBing镜像站","date":"2023-08-17T06:39:05.850Z","categories_index":"","tags_index":"","author_index":"Aurora"}]